---
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import "../../styles/global.css";
---

<head>
  <meta charset="UTF-8" />
  <title>7 Buenas pr√°cticas para sistemas RAG de alto rendimiento 2025 | Vectoriza.me</title>
  <meta name="description" content="Gu√≠a completa con las mejores pr√°cticas para optimizar sistemas RAG: multi-query retrieval, reranking, chunking inteligente, control de alucinaciones y m√°s. Incluye ejemplos pr√°cticos y m√©tricas reales." />
  <meta name="robots" content="index, follow" />
  <meta property="og:title" content="7 Buenas pr√°cticas para sistemas RAG de alto rendimiento 2025 | Vectoriza.me" />
  <meta property="og:description" content="Aprende las t√©cnicas avanzadas que empresas l√≠deres usan para construir sistemas RAG con 95%+ de precisi√≥n. Ejemplos pr√°cticos y casos reales incluidos." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.vectoriza.me/blog/buenas-practicas-rag" />
  <meta name="twitter:card" content="summary_large_image" />
</head>

<DefaultLayout>
  <section class="w-full px-6 pt-40 pb-20 max-w-6xl mx-auto text-white">

    <div class="text-center mb-12">
      <span class="inline-block px-4 py-2 bg-cyan-400/20 text-cyan-400 rounded-full text-sm font-semibold mb-6">
        Gu√≠a Avanzada 2025
      </span>
      <h1 class="text-4xl md:text-6xl font-extrabold mb-6 text-cyan-400">
        7 Buenas pr√°cticas para sistemas RAG de alto rendimiento
    </h1>
      <p class="text-xl text-white/80 text-center max-w-4xl mx-auto mb-4">
        Descubre las t√©cnicas que separan a los sistemas RAG <strong class="text-cyan-400">que realmente funcionan</strong> de los que solo prometen. Basado en implementaciones reales con <strong>95%+ de precisi√≥n</strong>.
      </p>
      <p class="text-base text-white/60 max-w-3xl mx-auto">
        ‚è±Ô∏è Tiempo de lectura: 15 minutos | üìä Incluye ejemplos de c√≥digo, m√©tricas reales y casos de uso
      </p>
    </div>

    <!-- Introducci√≥n con problema -->
    <div class="bg-gradient-to-r from-red-900/20 to-orange-900/20 border-l-4 border-red-500 p-8 rounded-xl mb-16">
      <h2 class="text-2xl font-bold text-red-400 mb-4">‚ö†Ô∏è El problema: La mayor√≠a de sistemas RAG fallan en producci√≥n</h2>
      <p class="text-white/80 text-lg mb-4">
        Seg√∫n estudios recientes, <strong>el 70% de los sistemas RAG implementados</strong> no cumplen las expectativas en producci√≥n. Las razones m√°s comunes:
      </p>
      <ul class="text-white/80 space-y-2 mb-4">
        <li>‚ùå Respuestas gen√©ricas o irrelevantes (chunking deficiente)</li>
        <li>‚ùå Alucinaciones frecuentes (prompts mal dise√±ados)</li>
        <li>‚ùå Informaci√≥n desactualizada (sin proceso de actualizaci√≥n)</li>
        <li>‚ùå Tiempos de respuesta lentos (arquitectura no optimizada)</li>
      </ul>
      <p class="text-cyan-400 font-semibold text-lg">
        Las 7 pr√°cticas que ver√°s a continuaci√≥n son las que usan los sistemas RAG que realmente funcionan en producci√≥n.
      </p>
    </div>

    <!-- Pr√°ctica 1: Multi-Query Retrieval -->
    <div class="mb-16 bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border border-cyan-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-cyan-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">1</div>
        <h2 class="text-3xl font-bold text-cyan-400">Multi-Query Retrieval: No dependas de una sola pregunta</h2>
      </div>
      
      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-cyan-300 mb-4">¬øQu√© es y por qu√© importa?</h3>
        <p class="text-white/80 mb-4">
          Los usuarios formulan preguntas de m√∫ltiples formas. "¬øCu√°l es la pol√≠tica de devoluciones?" puede ser tambi√©n "¬øC√≥mo devuelvo un producto?" o "¬øPuedo devolver algo que compr√©?". 
          <strong class="text-cyan-400">Multi-Query Retrieval</strong> genera autom√°ticamente 3-5 variantes de la pregunta y busca con todas ellas, recuperando m√°s contexto relevante.
        </p>
        <div class="grid md:grid-cols-2 gap-4 mt-6">
          <div class="bg-red-900/20 border border-red-500/30 p-4 rounded-lg">
            <p class="text-red-400 font-semibold mb-2">‚ùå Sin Multi-Query:</p>
            <p class="text-white/70 text-sm">Recuperaci√≥n: 2-3 documentos relevantes</p>
            <p class="text-white/70 text-sm">Precisi√≥n: ~65%</p>
          </div>
          <div class="bg-green-900/20 border border-green-500/30 p-4 rounded-lg">
            <p class="text-green-400 font-semibold mb-2">‚úÖ Con Multi-Query:</p>
            <p class="text-white/70 text-sm">Recuperaci√≥n: 8-12 documentos relevantes</p>
            <p class="text-white/70 text-sm">Precisi√≥n: ~85-90%</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-cyan-300 mb-4">üíª Implementaci√≥n pr√°ctica (LangChain)</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-cyan-300 overflow-x-auto">
          <pre>{`from langchain.retrievers.multi_query import MultiQueryRetriever
from langchain.llms import OpenAI

# Crea m√∫ltiples variantes de la consulta
retriever = MultiQueryRetriever.from_llm(
    retriever=vectorstore.as_retriever(),
    llm=OpenAI(temperature=0)
)

# Busca con todas las variantes
docs = retriever.get_relevant_documents(
    query="¬øCu√°l es la pol√≠tica de devoluciones?"
)
# Genera autom√°ticamente:
# - "pol√≠tica de devoluciones"
# - "c√≥mo devolver productos"
# - "proceso de devoluci√≥n"
# - "condiciones de devoluci√≥n"`}</pre>
        </div>
      </div>

      <div class="mt-6 bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-lg">
        <p class="text-yellow-300 font-semibold mb-2">üí° Tip profesional:</p>
        <p class="text-white/80 text-sm">
          Usa temperatura baja (0-0.3) para generar variantes m√°s consistentes. Para consultas muy t√©cnicas, genera 5 variantes. Para consultas generales, 3 son suficientes.
        </p>
      </div>
    </div>

    <!-- Pr√°ctica 2: Reranking -->
    <div class="mb-16 bg-gradient-to-br from-purple-900/20 to-pink-900/20 border border-purple-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-purple-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">2</div>
        <h2 class="text-3xl font-bold text-purple-400">Reranking: Ordena por relevancia real, no por similitud vectorial</h2>
      </div>
      
      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-purple-300 mb-4">El problema de la b√∫squeda vectorial pura</h3>
        <p class="text-white/80 mb-4">
          La b√∫squeda por similitud de vectores (cosine similarity) es r√°pida pero <strong>no siempre captura la relevancia sem√°ntica real</strong>. Un documento puede tener alta similitud vectorial pero baja relevancia contextual.
        </p>
        <p class="text-white/80 mb-4">
          <strong class="text-purple-400">Reranking</strong> usa modelos especializados (como Cohere Rerank, Cross-Encoder) que reordenan los resultados bas√°ndose en relevancia real para la consulta espec√≠fica.
        </p>
        <div class="grid md:grid-cols-2 gap-4 mt-6">
          <div class="bg-red-900/20 border border-red-500/30 p-4 rounded-lg">
            <p class="text-red-400 font-semibold mb-2">‚ùå Sin Reranking:</p>
            <p class="text-white/70 text-sm">Precisi√≥n en top 3: ~70%</p>
            <p class="text-white/70 text-sm">Documentos irrelevantes: 30-40%</p>
          </div>
          <div class="bg-green-900/20 border border-green-500/30 p-4 rounded-lg">
            <p class="text-green-400 font-semibold mb-2">‚úÖ Con Reranking:</p>
            <p class="text-white/70 text-sm">Precisi√≥n en top 3: ~92%</p>
            <p class="text-white/70 text-sm">Documentos irrelevantes: &lt;5%</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-purple-300 mb-4">üíª Implementaci√≥n con Cohere Rerank</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-purple-300 overflow-x-auto">
          <pre>{`from langchain.retrievers import ContextualCompressionRetriever
from langchain.retrievers.document_compressors import CohereRerank

# Primero recupera con b√∫squeda vectorial
base_retriever = vectorstore.as_retriever(search_kwargs={"k": 20})

# Luego rerankea los resultados
compressor = CohereRerank(
    model="rerank-english-v2.0",
    top_n=5  # Solo los 5 m√°s relevantes
)

retriever = ContextualCompressionRetriever(
    base_compressor=compressor,
    base_retriever=base_retriever
)

# Ahora obtienes los documentos m√°s relevantes
docs = retriever.get_relevant_documents(query)`}</pre>
        </div>
      </div>

      <div class="mt-6 bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-lg">
        <p class="text-yellow-300 font-semibold mb-2">üí° Estrategia de dos etapas:</p>
        <p class="text-white/80 text-sm">
          <strong>Etapa 1:</strong> Recupera 15-20 documentos con b√∫squeda vectorial (r√°pido). <strong>Etapa 2:</strong> Rerankea y selecciona los top 3-5 (preciso). Esto combina velocidad y precisi√≥n.
        </p>
      </div>
    </div>

    <!-- Pr√°ctica 3: Chunking inteligente -->
    <div class="mb-16 bg-gradient-to-br from-green-900/20 to-emerald-900/20 border border-green-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-green-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">3</div>
        <h2 class="text-3xl font-bold text-green-400">Chunking inteligente: Divide por significado, no por tama√±o</h2>
      </div>
      
      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-green-300 mb-4">Por qu√© el chunking fijo falla</h3>
        <p class="text-white/80 mb-4">
          Dividir documentos en chunks de 500 tokens fijos es <strong>r√°pido pero destructivo</strong>. Puedes cortar una frase a la mitad, separar un t√≠tulo de su contenido, o perder contexto crucial.
        </p>
        <p class="text-white/80 mb-4">
          <strong class="text-green-400">Chunking sem√°ntico</strong> divide documentos respetando la estructura: p√°rrafos, secciones, listas. Cada chunk mantiene coherencia sem√°ntica.
        </p>
        <div class="grid md:grid-cols-2 gap-4 mt-6">
          <div class="bg-red-900/20 border border-red-500/30 p-4 rounded-lg">
            <p class="text-red-400 font-semibold mb-2">‚ùå Chunking fijo (500 tokens):</p>
            <p class="text-white/70 text-sm mb-2">Ejemplo de chunk mal cortado:</p>
            <p class="text-white/50 text-xs italic">"...el proceso de devoluci√≥n requiere que el producto est√© en su estado original. Para iniciar el proceso, contacta con..."</p>
            <p class="text-white/70 text-sm mt-2">Problema: Informaci√≥n incompleta</p>
          </div>
          <div class="bg-green-900/20 border border-green-500/30 p-4 rounded-lg">
            <p class="text-green-400 font-semibold mb-2">‚úÖ Chunking sem√°ntico:</p>
            <p class="text-white/70 text-sm mb-2">Chunk completo y coherente:</p>
            <p class="text-white/50 text-xs italic">"Pol√≠tica de devoluciones: El proceso de devoluci√≥n requiere que el producto est√© en su estado original. Para iniciar el proceso, contacta con atenci√≥n al cliente en un plazo m√°ximo de 30 d√≠as."</p>
            <p class="text-white/70 text-sm mt-2">Ventaja: Contexto completo</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-green-300 mb-4">üíª Chunking sem√°ntico con LangChain</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-green-300 overflow-x-auto">
          <pre>{`from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.text_splitter import MarkdownHeaderTextSplitter

# Para documentos estructurados (Markdown, HTML)
markdown_splitter = MarkdownHeaderTextSplitter(
    headers_to_split_on=[
        ("#", "Header 1"),
        ("##", "Header 2"),
        ("###", "Header 3"),
    ]
)

# Para texto general con respeto a p√°rrafos
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=200,
    separators=["\\n\\n", "\\n", ". ", " ", ""]  # Respeta p√°rrafos primero
)

# Divide respetando estructura
chunks = text_splitter.split_documents(documents)`}</pre>
        </div>
      </div>

      <div class="mt-6 bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-lg">
        <p class="text-yellow-300 font-semibold mb-2">üí° Regla de oro:</p>
        <p class="text-white/80 text-sm">
          Usa <strong>overlap de 10-20%</strong> entre chunks para mantener contexto. Para documentos t√©cnicos, respeta secciones. Para conversaciones, respeta turnos completos.
        </p>
      </div>
    </div>

    <!-- Pr√°ctica 4: Prompt Engineering -->
    <div class="mb-16 bg-gradient-to-br from-yellow-900/20 to-orange-900/20 border border-yellow-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-yellow-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">4</div>
        <h2 class="text-3xl font-bold text-yellow-400">Prompt Engineering: Instrucciones que eliminan alucinaciones</h2>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-yellow-300 mb-4">El prompt correcto reduce alucinaciones en 80%</h3>
        <p class="text-white/80 mb-4">
          Un prompt mal dise√±ado permite que el LLM invente informaci√≥n. Un prompt bien dise√±ado <strong>fuerza al modelo a usar solo el contexto proporcionado</strong> y ser honesto cuando no sabe algo.
        </p>
        <div class="grid md:grid-cols-2 gap-4 mt-6">
          <div class="bg-red-900/20 border border-red-500/30 p-4 rounded-lg">
            <p class="text-red-400 font-semibold mb-2">‚ùå Prompt d√©bil:</p>
            <div class="bg-[#141414] p-3 rounded text-xs text-red-300 font-mono">
              <p>"Responde la siguiente pregunta:"</p>
            </div>
            <p class="text-white/70 text-sm mt-2">Resultado: Inventa informaci√≥n</p>
          </div>
          <div class="bg-green-900/20 border border-green-500/30 p-4 rounded-lg">
            <p class="text-green-400 font-semibold mb-2">‚úÖ Prompt robusto:</p>
            <div class="bg-[#141414] p-3 rounded text-xs text-green-300 font-mono">
              <p>"Usa √öNICAMENTE la informaci√≥n del siguiente contexto para responder. Si la informaci√≥n no est√° en el contexto, di 'No tengo esa informaci√≥n en mi base de conocimiento'. Contexto: {'{'}context{'}'}"</p>
            </div>
            <p class="text-white/70 text-sm mt-2">Resultado: Respuestas precisas</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-yellow-300 mb-4">üíª Template de prompt profesional</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-yellow-300 overflow-x-auto">
          <pre>{`SYSTEM_PROMPT = """Eres un asistente experto que responde preguntas 
bas√°ndote √öNICAMENTE en el contexto proporcionado.

REGLAS ESTRICTAS:
1. Usa SOLO la informaci√≥n del contexto para responder
2. Si la informaci√≥n no est√° en el contexto, di claramente: 
   "No tengo esa informaci√≥n en mi base de conocimiento"
3. Cita las fuentes cuando sea posible
4. S√© conciso pero completo
5. NO inventes informaci√≥n, incluso si crees que la sabes

Contexto proporcionado:
{context}

Pregunta del usuario: {question}

Respuesta:"""`}</pre>
        </div>
      </div>

      <div class="mt-6 bg-yellow-900/20 border border-yellow-500/30 p-4 rounded-lg">
        <p class="text-yellow-300 font-semibold mb-2">üí° T√©cnicas avanzadas:</p>
        <ul class="text-white/80 text-sm space-y-1">
          <li>‚Ä¢ <strong>Few-shot examples:</strong> Muestra ejemplos de respuestas correctas</li>
          <li>‚Ä¢ <strong>Chain-of-thought:</strong> Pide al modelo que explique su razonamiento</li>
          <li>‚Ä¢ <strong>Self-consistency:</strong> Genera m√∫ltiples respuestas y elige la m√°s consistente</li>
        </ul>
      </div>
    </div>

    <!-- Pr√°ctica 5: Filtrado de relevancia -->
    <div class="mb-16 bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border border-blue-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-blue-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">5</div>
        <h2 class="text-3xl font-bold text-blue-400">Filtrado de relevancia: No env√≠es ruido al LLM</h2>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-blue-300 mb-4">El costo de enviar documentos irrelevantes</h3>
        <p class="text-white/80 mb-4">
          Enviar 10 documentos al LLM cuando solo 3 son relevantes tiene tres problemas:
        </p>
        <ul class="text-white/80 space-y-2 mb-4">
          <li>üí∞ <strong>Costo:</strong> M√°s tokens = m√°s dinero (GPT-4 cobra por token)</li>
          <li>‚è±Ô∏è <strong>Velocidad:</strong> Procesar m√°s contexto = respuestas m√°s lentas</li>
          <li>üéØ <strong>Calidad:</strong> El LLM puede confundirse con informaci√≥n contradictoria</li>
        </ul>
        <p class="text-white/80 mb-4">
          <strong class="text-blue-400">Soluci√≥n:</strong> Establece un umbral de similitud m√≠nimo (ej: 0.7) y filtra documentos por debajo de ese umbral antes de enviarlos al LLM.
        </p>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-blue-300 mb-4">üíª Implementaci√≥n con umbral de relevancia</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-blue-300 overflow-x-auto">
          <pre>{`from langchain.vectorstores import Pinecone

# Configura umbral de relevancia
SIMILARITY_THRESHOLD = 0.7

# Recupera documentos con scores
docs_with_scores = vectorstore.similarity_search_with_score(
    query, 
    k=10
)

# Filtra por umbral
relevant_docs = [
    doc for doc, score in docs_with_scores 
    if score >= SIMILARITY_THRESHOLD
]

# Si no hay documentos relevantes, informa al usuario
if not relevant_docs:
    return "No encontr√© informaci√≥n relevante para tu consulta."

# Env√≠a solo los relevantes al LLM
response = llm.generate(context=relevant_docs, query=query)`}</pre>
        </div>
      </div>
    </div>

    <!-- Pr√°ctica 6: Actualizaci√≥n continua -->
    <div class="mb-16 bg-gradient-to-br from-pink-900/20 to-red-900/20 border border-pink-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-pink-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">6</div>
        <h2 class="text-3xl font-bold text-pink-400">Actualizaci√≥n continua: Mant√©n tu base de conocimiento viva</h2>
      </div>
      
      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-pink-300 mb-4">La informaci√≥n desactualizada mata la confianza</h3>
        <p class="text-white/80 mb-4">
          Un sistema RAG con informaci√≥n de hace 6 meses es <strong>peor que in√∫til: es peligroso</strong>. Los usuarios conf√≠an en las respuestas, y si encuentran informaci√≥n obsoleta, perder√°n toda confianza en el sistema.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mt-6">
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-pink-400 font-semibold mb-2">üîÑ Actualizaci√≥n incremental</p>
            <p class="text-white/70 text-sm">Actualiza solo documentos modificados, no toda la base</p>
          </div>
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-pink-400 font-semibold mb-2">‚è∞ Programaci√≥n autom√°tica</p>
            <p class="text-white/70 text-sm">Cron jobs que revisan cambios diarios/semanales</p>
          </div>
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-pink-400 font-semibold mb-2">üîî Webhooks</p>
            <p class="text-white/70 text-sm">Actualizaci√≥n en tiempo real cuando cambian documentos</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-pink-300 mb-4">üíª Pipeline de actualizaci√≥n autom√°tica</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-pink-300 overflow-x-auto">
          <pre>{`import hashlib
from datetime import datetime

def update_vector_store(document_path):
    # 1. Calcula hash del documento
    doc_hash = hashlib.md5(open(document_path).read()).hexdigest()
    
    # 2. Verifica si cambi√≥
    if doc_hash != get_stored_hash(document_path):
        # 3. Re-chunkea y actualiza
        chunks = chunk_document(document_path)
        vectorstore.add_documents(chunks)
        
        # 4. Actualiza metadata
        update_metadata(document_path, {
            'last_updated': datetime.now(),
            'hash': doc_hash
        })

# Ejecuta diariamente
schedule.every().day.at("02:00").do(update_all_documents)`}</pre>
        </div>
      </div>
    </div>

    <!-- Pr√°ctica 7: Control de alucinaciones -->
    <div class="mb-16 bg-gradient-to-br from-indigo-900/20 to-purple-900/20 border border-indigo-400/30 p-8 rounded-2xl">
      <div class="flex items-center gap-4 mb-6">
        <div class="bg-indigo-400 text-black text-2xl font-bold w-12 h-12 rounded-full flex items-center justify-center">7</div>
        <h2 class="text-3xl font-bold text-indigo-400">Control de alucinaciones: Detecta y previene respuestas inventadas</h2>
      </div>
      
      <div class="bg-[#0a0a0a] p-6 rounded-xl mb-6">
        <h3 class="text-xl font-bold text-indigo-300 mb-4">Sistema de verificaci√≥n multicapa</h3>
        <p class="text-white/80 mb-4">
          Incluso con las mejores pr√°cticas, los LLMs pueden alucinar. Un <strong>sistema de verificaci√≥n</strong> detecta y previene estas situaciones:
        </p>
        <div class="space-y-4">
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-indigo-400 font-semibold mb-2">1. Verificaci√≥n de citas</p>
            <p class="text-white/70 text-sm">Verifica que todas las afirmaciones puedan rastrearse a documentos en el contexto</p>
          </div>
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-indigo-400 font-semibold mb-2">2. Scoring de confianza</p>
            <p class="text-white/70 text-sm">Asigna un score de confianza (0-1) basado en similitud de documentos y coherencia</p>
          </div>
          <div class="bg-[#141414] p-4 rounded-lg">
            <p class="text-indigo-400 font-semibold mb-2">3. Respuestas condicionales</p>
            <p class="text-white/70 text-sm">Si el score es bajo, responde: "No estoy seguro, pero seg√∫n la informaci√≥n disponible..."</p>
          </div>
        </div>
      </div>

      <div class="bg-[#0a0a0a] p-6 rounded-xl">
        <h3 class="text-xl font-bold text-indigo-300 mb-4">üíª Sistema de verificaci√≥n</h3>
        <div class="bg-[#141414] p-4 rounded-lg font-mono text-sm text-indigo-300 overflow-x-auto">
          <pre>{`def verify_response(response, context_docs, query):
    # 1. Extrae afirmaciones clave
    claims = extract_claims(response)
    
    # 2. Verifica cada afirmaci√≥n contra el contexto
    verification_scores = []
    for claim in claims:
        score = verify_claim_against_context(claim, context_docs)
        verification_scores.append(score)
    
    # 3. Calcula confianza general
    confidence = sum(verification_scores) / len(verification_scores)
    
    # 4. Ajusta respuesta seg√∫n confianza
    if confidence < 0.7:
        response = f"[Confianza: {confidence:.0%}] " + response
        response += "\\n\\nNota: Algunas partes de esta respuesta tienen confianza limitada."
    
    return response, confidence`}</pre>
        </div>
      </div>
    </div>

    <!-- Resumen de m√©tricas -->
    <div class="mb-20 bg-gradient-to-r from-cyan-900/30 via-blue-900/30 to-purple-900/30 border-2 border-cyan-400/50 p-10 rounded-3xl">
      <h2 class="text-3xl font-bold text-cyan-400 mb-8 text-center">
        üìä Impacto medible de estas pr√°cticas
      </h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-[#0a0a0a] p-6 rounded-xl text-center">
          <div class="text-5xl font-bold text-green-400 mb-2">95%+</div>
          <p class="text-white/80">Precisi√≥n en respuestas</p>
          <p class="text-white/60 text-sm mt-2">vs 65-70% sin estas pr√°cticas</p>
        </div>
        <div class="bg-[#0a0a0a] p-6 rounded-xl text-center">
          <div class="text-5xl font-bold text-cyan-400 mb-2">&lt;5%</div>
          <p class="text-white/80">Tasa de alucinaciones</p>
          <p class="text-white/60 text-sm mt-2">vs 20-30% en sistemas b√°sicos</p>
        </div>
        <div class="bg-[#0a0a0a] p-6 rounded-xl text-center">
          <div class="text-5xl font-bold text-purple-400 mb-2">2-3s</div>
          <p class="text-white/80">Tiempo de respuesta</p>
          <p class="text-white/60 text-sm mt-2">Optimizado con filtrado y reranking</p>
        </div>
      </div>
    </div>

    <!-- CTA final mejorado -->
    <div class="text-center max-w-4xl mx-auto mt-20">
      <div class="bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border-2 border-cyan-400/50 p-10 rounded-3xl shadow-[0_0_50px_rgba(0,255,255,0.3)]">
        <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6">
          ¬øNecesitas ayuda implementando estas pr√°cticas?
        </h2>
        <p class="text-xl text-white/90 mb-4">
          En <strong class="text-cyan-400">Vectoriza.me</strong> dise√±amos sistemas RAG que implementan todas estas mejores pr√°cticas desde el d√≠a uno.
        </p>
        <div class="grid md:grid-cols-3 gap-4 mb-8 text-left">
          <div class="bg-[#0a0a0a] p-4 rounded-lg">
            <p class="text-cyan-300 font-semibold mb-2">‚úÖ Arquitectura optimizada</p>
            <p class="text-white/70 text-sm">Multi-query, reranking y chunking inteligente incluidos</p>
          </div>
          <div class="bg-[#0a0a0a] p-4 rounded-lg">
            <p class="text-cyan-300 font-semibold mb-2">‚úÖ Control de calidad</p>
            <p class="text-white/70 text-sm">Sistema de verificaci√≥n y detecci√≥n de alucinaciones</p>
          </div>
          <div class="bg-[#0a0a0a] p-4 rounded-lg">
            <p class="text-cyan-300 font-semibold mb-2">‚úÖ Mantenimiento continuo</p>
            <p class="text-white/70 text-sm">Pipeline de actualizaci√≥n autom√°tica configurado</p>
          </div>
        </div>
        <a href="/#finalcta" class="inline-block px-10 py-5 bg-cyan-400 hover:bg-cyan-500 text-black font-bold rounded-full shadow-[0_0_30px_rgba(0,255,255,0.5)] hover:shadow-[0_0_50px_rgba(0,255,255,0.7)] transition-all text-xl transform hover:scale-105">
          üöÄ Solicitar consulta t√©cnica gratuita
        </a>
        <p class="text-white/60 text-sm mt-6">
          Analizamos tu caso ‚Ä¢ Te damos un plan de implementaci√≥n ‚Ä¢ Sin compromiso
        </p>
      </div>
    </div>

  </section>
</DefaultLayout>
